(()=>{"use strict";const e=[{title:"test 1",desc:"test 1",date:"2022-05-25",prior:"priority-low",status:1},{title:"test 2",desc:"test 2",date:"2022-05-27",prior:"priority-high",status:1},{title:"não apareça",desc:"test 3",date:"2022-05-30",prior:"priority-medium",status:1},{title:"test 2",desc:"test 2",date:"2023-05-27",prior:"priority-high",status:1},{title:"test 2",desc:"test 2",date:"2022-09-27",prior:"priority-high",status:1},{title:"test 2",desc:"test 2",date:"2022-05-26",prior:"priority-high",status:1}],t=[{name:"All tasks",color:"#5d9963",details:"Find all tasks here",relatedTasks:e}],a=(()=>{const a=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getFullYear());return{dayOfWeek:e.getDay(),day:t,month:a,year:r,currentDate:`${r}-${a}-${t}`}};return{createNewProject:(e,a,o)=>{const s=((e,t,a)=>({name:e,color:t,details:a,relatedTasks:[]}))(e,a,o),n=document.querySelector(".projects-list");var i;r.displayElement(s,n),"All tasks"!==e&&(i=s,t.push(i))},addTaskToArray:t=>{e.push(t)},filterTasks:t=>"done-tasks"===t?e.filter((e=>-1===e.status)):"All tasks"===t.name?e.filter((e=>1===e.status)):e.filter((e=>{if(1===e.status)return e.projectID===t.name})),deleteTask:(t,a)=>{e.splice(e.indexOf(a),1),r.removeTaskFromDisplay(t)},checkTask:(e,t)=>{t.status*=-1,r.removeTaskFromDisplay(e)},getCurrentDate:a,filterTodayTasks:()=>e.filter((e=>e.date===a().currentDate)),getReadableDate:()=>`${(()=>{let e="";switch(a().dayOfWeek){case 0:e="Sunday";break;case 1:e="Monday";break;case 2:e="Tuesday";break;case 3:e="Wednesday";break;case 4:e="Thursday";break;case 5:e="Friday";break;case 6:e="Saturday"}return e})()}, ${a().day} ${(()=>{let e="";switch(a().month){case"01":e="Jan";break;case"02":e="Feb";break;case"03":e="Mar";break;case"04":e="Apr";break;case"05":e="May";break;case"06":e="Jun";break;case"07":e="Jul";break;case"08":e="Aug";break;case"09":e="Sep";break;case"10":e="Oct";break;case"11":e="Nov";break;case"12":e="Dec"}return e})()} ${a().year}`}})(),r=(()=>{const e=(e,t)=>{const a=document.querySelector("#main"),r=document.createElement("div");void 0===t?r.classList.add("task-item",e.prior):r.classList.add("task-item",e.prior,t),r.innerHTML=`\n            <div class="check-btn btn-pointer"></div>\n            <div class="main-task-infos">\n                <div class="task-title">${e.title}</div>\n                <div class="details">${e.desc}</div>\n            </div>\n            <div class="date">${e.date}</div>\n            <div class="delete-btn btn-pointer"></div>\n        `,r.objectAssign=e,a.prepend(r)};return{openForm:(e,t)=>{if("project"===e){const e=document.querySelector("#overlay-project");e.classList.add("show-overlay"),e.innerHTML='\n        <form class="create-new">\n            <div class="create-new--header">Create a new project<div id="close-form-btn"></div></div>\n            <div class="create-new--content">\n                <label for="new-project--name">Project Name:</label>\n                <input type="text" id="new-project--name" name="new-project" required>\n                <label for="new-project--desc">Details:</label>\n                <textarea id="new-project--desc" name="new-project" maxlength="80"></textarea>\n                <div class="wrap-priority-submit">\n                    <div>\n                        <label for="new-project--color">Color:</label>\n                        <input type="color" id="new-project--color" name="new-project" required>\n                    </div>\n                    <button>Create</button>\n                </div>\n            </div>\n        </form>\n'}else if("task"===e){const e=document.querySelector("#overlay-task");e.classList.add("show-overlay"),e.innerHTML='\n    <form class="create-new">\n        <div class="create-new--header">Create a new task<div id="close-form-btn"></div></div>\n        <div class="create-new--content">\n            <textarea class="create-new_input" id="new-todo--title" name="new-todo" placeholder="Title: Create a title" required></textarea>\n            <textarea class="create-new_input" id="new-todo--description" name="new-todo" placeholder="Details: Add a description" required></textarea>\n            <div class="create-new_date">\n                <label for="new-todo--date">Due Date:</label>\n                <input type="date" id="new-todo--date" name="new-todo" required>\n            </div>\n            <div class="wrap-priority-submit">\n                <div class="new-todo--priority">\n                    <div class="todo-prior-label">Priority:</div>\n                    <label class="radio-label radio-label-low" for="low"><span class="low">low</span>\n                        <input type="radio" id="low" name="new-todo--prior" value="priority-low" required>\n                    </label>\n                    <label class="radio-label radio-label-medium" for="medium"><span class="medium">medium</span>\n                        <input type="radio" id="medium" name="new-todo--prior" value="priority-medium" required>\n                    </label>\n                    <label class="radio-label radio-label-high" for="high"><span class="high">high</span>\n                        <input type="radio" id="high" name="new-todo--prior" value="priority-high" required>\n                    </label>\n                </div>\n                <button>Create</button>\n            </div>\n        </div>\n    </form>\n',e.relatedProject=t}},closeForm:e=>{if("project"===e){const e=document.querySelector("#overlay-project");e.classList.remove("show-overlay"),e.innerHTML=""}else if("task"===e){const e=document.querySelector("#overlay-task");e.classList.remove("show-overlay"),e.innerHTML=""}},displayElement:(e,t)=>{t.appendChild((e=>{const t=document.createElement("li");return t.classList.add("project-item","btn-pointer"),t.obj_ID=e,t.innerHTML=`<div class= "project-color" style="background: ${e.color}"></div>${e.name}`,t})(e))},displayProjectList:(t,a)=>{const r=document.querySelector(".chosen-list-title"),o=document.querySelector(".project-details"),s=document.querySelector("#header");r.textContent=t.name,o.textContent=t.details,s.style.backgroundColor=t.color,(e=>{document.querySelector("#main").innerHTML="";const t=document.createElement("div");t.classList.add("new-task-card","btn-pointer"),t.innerHTML='<img class="new-task-btn" src="./assets/add.png" alt="plus icon">Add a Task',t.relatedProject=e,document.querySelector("#main").appendChild(t)})(t),((t,a)=>{t.forEach((t=>{e(t,a)}))})(a)},addTaskToList:e,removeTaskFromDisplay:e=>{document.querySelector("#main").removeChild(e)}}})();document.querySelector("#overlay-project").addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector("#new-project--name").value,o=document.querySelector("#new-project--color").value,s=document.querySelector("#new-project--desc").value;a.createNewProject(t,o,s),r.closeForm("project")})),document.querySelector("#overlay-task").addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector("#overlay-task").relatedProject,o=(s=document.querySelector("#new-todo--title").value,n=document.querySelector("#new-todo--description").value,i=document.querySelector("#new-todo--date").value,c=document.querySelector('input[type="radio"]:checked').value,d=t.name,{title:s,desc:n,date:i,prior:c,projectID:d,status:1});var s,n,i,c,d;r.addTaskToList(o),a.addTaskToArray(o),r.closeForm("task")})),document.addEventListener("DOMContentLoaded",(()=>{t.forEach((e=>{r.displayElement(e,document.querySelector(".projects-list"))})),r.displayProjectList(t[0],a.filterTasks(t[0]))})),document.querySelector(".new-list-btn").addEventListener("click",(()=>{r.openForm("project")})),document.querySelector("#overlay-project").addEventListener("click",(e=>{"close-form-btn"===e.target.id&&r.closeForm("project")})),document.querySelector("#overlay-task").addEventListener("click",(e=>{"close-form-btn"===e.target.id&&r.closeForm("task")})),document.addEventListener("click",(e=>{e.target.classList.contains("new-task-card")&&r.openForm("task",e.target.relatedProject)})),document.querySelector(".projects-list").addEventListener("click",(e=>{e.target.classList.contains("project-item")&&r.displayProjectList(e.target.obj_ID,a.filterTasks(e.target.obj_ID))})),document.querySelector("#done-tasks").addEventListener("click",(()=>{r.displayProjectList({name:"Done tasks",details:"All done tasks",color:"#5d9963"},a.filterTasks("done-tasks"))})),document.querySelector("#my-day-tasks").addEventListener("click",(()=>{r.displayProjectList({name:"Today tasks",details:a.getReadableDate(),color:"#5d9963"},a.filterTodayTasks())})),document.addEventListener("click",(e=>{e.target.classList.contains("delete-btn")&&a.deleteTask(e.target.parentNode,e.target.parentNode.objectAssign)})),document.addEventListener("click",(e=>{e.target.classList.contains("check-btn")&&a.checkTask(e.target.parentNode,e.target.parentNode.objectAssign)}))})();